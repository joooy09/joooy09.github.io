<html>
    <head>
            <title>Test</title>
            <script
            src="https://code.jquery.com/jquery-1.12.4.js"
            integrity="sha256-Qw82+bXyGq6MydymqBxNPYTaUXXq7c8v3CwiYwLLNXU="
            crossorigin="anonymous"></script>
    </head>
    <body>

        <h1>Communicate between swift and javascript!</h1>
<button id="jsBtn">Send token to APP</button>
    </body>

    <script>
        // 當點網頁上的按鈕，會從JS發送訊息給Webview接收。
        $('#jsBtn').on('click', () => {
            callNativeApp("TOKEN");
        });
        function callNativeApp(data) {   
            try {
                // 從JS傳送資訊到App裡設定的callbackHandler。
                webkit.messageHandlers.OneArgumentCallbackHandler.postMessage(data);
            } catch(err) {
                // 如果找不到定義的callbackHandler則回傳錯誤訊息。
                console.log("The native context doesn't exist yet!");
            }    
        }
        // 這個function 用來提供給Webview呼叫來控制標題變成紅色範例。
        function changeTitleColor() {
            $(h1).css('color', 'red');
        }
        </script>
</html>
